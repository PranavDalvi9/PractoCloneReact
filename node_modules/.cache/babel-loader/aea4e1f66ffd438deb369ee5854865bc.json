{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pspho\\\\OneDrive\\\\Documents\\\\PractoCloneReact\\\\src\\\\Components\\\\Payments\\\\payment.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport \"./payment.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Payment() {\n  _s();\n\n  React.useEffect(() => {\n    getData();\n  }, []);\n  const [book, setBook] = useState({\n    name: \"The Fault In Our Stars\",\n    author: \"John Green\",\n    img: \"https://images-na.ssl-images-amazon.com/images/I/817tHNcyAgL.jpg\",\n    price: 250\n  });\n  const [pay, setPay] = useState([]);\n\n  const getData = () => {\n    axios.get(\"https://practocloneapi3.herokuapp.com/products\").then(function (res) {\n      // console.log(res.data[]);\n      setPay(res.data.medicine[0]);\n    });\n  };\n\n  console.log(pay.price); // pay.map((e) => {\n  //   console.log(e);\n  // });\n\n  const initPayment = data => {\n    const options = {\n      key: \"rzp_test_xkRX7E1arP0hgl\",\n      amount: data.amount,\n      currency: data.currency,\n      name: book.name,\n      description: \"Test Transaction\",\n      image: book.img,\n      order_id: data.id,\n      handler: async response => {\n        try {\n          const verifyUrl = \"http://localhost:8080/api/payment/verify\";\n          const {\n            data\n          } = await axios.post(verifyUrl, response);\n          console.log(data);\n        } catch (error) {\n          console.log(error);\n        }\n      },\n      theme: {\n        color: \"#3399cc\"\n      }\n    };\n    const rzp1 = new window.Razorpay(options);\n    rzp1.open();\n  };\n\n  const handlePayment = async () => {\n    try {\n      const orderUrl = \"http://localhost:8080/api/payment/orders\";\n      const {\n        data\n      } = await axios.post(orderUrl, {\n        amount: pay.price\n      });\n      console.log(data);\n      initPayment(data.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"book_container\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: book.img,\n        alt: \"book_img\",\n        className: \"book_img\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"book_name\",\n        children: book.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"book_author\",\n        children: [\"By \", book.author]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"book_price\",\n        children: [\"Price : \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u20B9 \", pay.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePayment,\n        className: \"buy_btn\",\n        children: \"buy now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Payment, \"0DcjhEaBF4Fl83z0SWlhQcKS824=\");\n\n_c = Payment;\nexport default Payment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"sources":["C:/Users/pspho/OneDrive/Documents/PractoCloneReact/src/Components/Payments/payment.jsx"],"names":["axios","React","useState","Payment","useEffect","getData","book","setBook","name","author","img","price","pay","setPay","get","then","res","data","medicine","console","log","initPayment","options","key","amount","currency","description","image","order_id","id","handler","response","verifyUrl","post","error","theme","color","rzp1","window","Razorpay","open","handlePayment","orderUrl"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAO,eAAP;;;AAEA,SAASC,OAAT,GAAoB;AAAA;;AAClBF,EAAAA,KAAK,CAACG,SAAN,CAAgB,MAAM;AACpBC,IAAAA,OAAO;AACR,GAFD,EAEG,EAFH;AAIA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAC;AAC/BM,IAAAA,IAAI,EAAE,wBADyB;AAE/BC,IAAAA,MAAM,EAAE,YAFuB;AAG/BC,IAAAA,GAAG,EAAE,kEAH0B;AAI/BC,IAAAA,KAAK,EAAE;AAJwB,GAAD,CAAhC;AAOA,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBX,QAAQ,CAAC,EAAD,CAA9B;;AAEA,QAAMG,OAAO,GAAG,MAAM;AACpBL,IAAAA,KAAK,CACFc,GADH,CACO,gDADP,EAEGC,IAFH,CAEQ,UAAUC,GAAV,EAAe;AACnB;AACAH,MAAAA,MAAM,CAACG,GAAG,CAACC,IAAJ,CAASC,QAAT,CAAkB,CAAlB,CAAD,CAAN;AACD,KALH;AAMD,GAPD;;AASAC,EAAAA,OAAO,CAACC,GAAR,CAAYR,GAAG,CAACD,KAAhB,EAvBkB,CAyBlB;AACA;AACA;;AAEA,QAAMU,WAAW,GAAIJ,IAAD,IAAU;AAC5B,UAAMK,OAAO,GAAG;AACdC,MAAAA,GAAG,EAAE,yBADS;AAEdC,MAAAA,MAAM,EAAEP,IAAI,CAACO,MAFC;AAGdC,MAAAA,QAAQ,EAAER,IAAI,CAACQ,QAHD;AAIdjB,MAAAA,IAAI,EAAEF,IAAI,CAACE,IAJG;AAKdkB,MAAAA,WAAW,EAAE,kBALC;AAMdC,MAAAA,KAAK,EAAErB,IAAI,CAACI,GANE;AAOdkB,MAAAA,QAAQ,EAAEX,IAAI,CAACY,EAPD;AAQdC,MAAAA,OAAO,EAAE,MAAOC,QAAP,IAAoB;AAC3B,YAAI;AACF,gBAAMC,SAAS,GAAG,0CAAlB;AACA,gBAAM;AAAEf,YAAAA;AAAF,cAAW,MAAMjB,KAAK,CAACiC,IAAN,CAAWD,SAAX,EAAsBD,QAAtB,CAAvB;AACAZ,UAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACD,SAJD,CAIE,OAAOiB,KAAP,EAAc;AACdf,UAAAA,OAAO,CAACC,GAAR,CAAYc,KAAZ;AACD;AACF,OAhBa;AAiBdC,MAAAA,KAAK,EAAE;AACLC,QAAAA,KAAK,EAAE;AADF;AAjBO,KAAhB;AAqBA,UAAMC,IAAI,GAAG,IAAIC,MAAM,CAACC,QAAX,CAAoBjB,OAApB,CAAb;AACAe,IAAAA,IAAI,CAACG,IAAL;AACD,GAxBD;;AA0BA,QAAMC,aAAa,GAAG,YAAY;AAChC,QAAI;AACF,YAAMC,QAAQ,GAAG,0CAAjB;AACA,YAAM;AAAEzB,QAAAA;AAAF,UAAW,MAAMjB,KAAK,CAACiC,IAAN,CAAWS,QAAX,EAAqB;AAAElB,QAAAA,MAAM,EAAEZ,GAAG,CAACD;AAAd,OAArB,CAAvB;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACAI,MAAAA,WAAW,CAACJ,IAAI,CAACA,IAAN,CAAX;AACD,KALD,CAKE,OAAOiB,KAAP,EAAc;AACdf,MAAAA,OAAO,CAACC,GAAR,CAAYc,KAAZ;AACD;AACF,GATD;;AAWA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA,8BACE;AAAK,QAAA,GAAG,EAAE5B,IAAI,CAACI,GAAf;AAAoB,QAAA,GAAG,EAAC,UAAxB;AAAmC,QAAA,SAAS,EAAC;AAA7C;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAG,QAAA,SAAS,EAAC,WAAb;AAAA,kBAA0BJ,IAAI,CAACE;AAA/B;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE;AAAG,QAAA,SAAS,EAAC,aAAb;AAAA,0BAA+BF,IAAI,CAACG,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,eAIE;AAAG,QAAA,SAAS,EAAC,YAAb;AAAA,4CACU;AAAA,gCAAgBG,GAAG,CAACD,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA,gBADV;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,eAOE;AAAQ,QAAA,OAAO,EAAE8B,aAAjB;AAAgC,QAAA,SAAS,EAAC,SAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAeD;;GAjFQtC,O;;KAAAA,O;AAmFT,eAAeA,OAAf","sourcesContent":["import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport \"./payment.css\";\r\n\r\nfunction Payment () {\r\n  React.useEffect(() => {\r\n    getData();\r\n  }, []);\r\n\r\n  const [book, setBook] = useState({\r\n    name: \"The Fault In Our Stars\",\r\n    author: \"John Green\",\r\n    img: \"https://images-na.ssl-images-amazon.com/images/I/817tHNcyAgL.jpg\",\r\n    price: 250,\r\n  });\r\n\r\n  const [pay, setPay] = useState([]);\r\n\r\n  const getData = () => {\r\n    axios\r\n      .get(\"https://practocloneapi3.herokuapp.com/products\")\r\n      .then(function (res) {\r\n        // console.log(res.data[]);\r\n        setPay(res.data.medicine[0]);\r\n      });\r\n  };\r\n\r\n  console.log(pay.price);\r\n\r\n  // pay.map((e) => {\r\n  //   console.log(e);\r\n  // });\r\n\r\n  const initPayment = (data) => {\r\n    const options = {\r\n      key: \"rzp_test_xkRX7E1arP0hgl\",\r\n      amount: data.amount,\r\n      currency: data.currency,\r\n      name: book.name,\r\n      description: \"Test Transaction\",\r\n      image: book.img,\r\n      order_id: data.id,\r\n      handler: async (response) => {\r\n        try {\r\n          const verifyUrl = \"http://localhost:8080/api/payment/verify\";\r\n          const { data } = await axios.post(verifyUrl, response);\r\n          console.log(data);\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      },\r\n      theme: {\r\n        color: \"#3399cc\",\r\n      },\r\n    };\r\n    const rzp1 = new window.Razorpay(options);\r\n    rzp1.open();\r\n  };\r\n\r\n  const handlePayment = async () => {\r\n    try {\r\n      const orderUrl = \"http://localhost:8080/api/payment/orders\";\r\n      const { data } = await axios.post(orderUrl, { amount: pay.price });\r\n      console.log(data);\r\n      initPayment(data.data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"book_container\">\r\n        <img src={book.img} alt=\"book_img\" className=\"book_img\" />\r\n        <p className=\"book_name\">{book.name}</p>\r\n        <p className=\"book_author\">By {book.author}</p>\r\n        <p className=\"book_price\">\r\n          Price : <span>&#x20B9; {pay.price}</span>\r\n        </p>\r\n        <button onClick={handlePayment} className=\"buy_btn\">\r\n          buy now\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Payment;\r\n"]},"metadata":{},"sourceType":"module"}